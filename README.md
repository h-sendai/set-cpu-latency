# set-cpu-latency

http://en.community.dell.com/cfs-file.ashx/__key/telligent-evolution-components-attachments/13-4491-00-00-20-22-77-64/Controlling_5F00_Processor_5F00_C_2D00_State_5F00_Usage_5F00_in_5F00_Linux_5F00_Nov2012.pdf

を見て書いたもの。上のリンクはいまは消滅している。

引数でアイドルのときにどのCnステートになるか指定する。turbostat -i 1コマンドを使うと様子がわかる。

    Core    CPU     Avg_MHz Busy%   Bzy_MHz TSC_MHz IRQ     SMI     POLL    C1      C1E     C3      C6      POLL%   C1%     C1E%    C3%     C6%     CPU%c1  CPU%c3  CPU%c6  CoreTmp PkgTmp  Pkg%pc2 Pkg%pc3 Pkg%pc6 PkgWatt RAMWatt PKG_%   RAM_%
    -       -       2       0.21    851     1999    592     0       0       0       3       49      501     0.00    0.00    0.00    2.58    97.20   1.05    5.03    93.70   47      47      92.63   0.00    0.00    11.15   1.12    0.00    0.00
    0       0       2       0.18    841     1998    50      0       0       0       2       24      24      0.00    0.00    0.02    19.29   80.43   0.80    19.00   80.02   47      47      92.67   0.00    0.00    11.15   1.12    0.00    0.00
    0       8       1       0.10    884     1998    11      0       0       0       1       0       11      0.00    0.00    0.00    0.00    99.82   0.89
    1       1       1       0.16    860     1998    24      0       0       0       0       1       20      0.00    0.00    0.00    0.04    99.74   0.54    0.06    99.24   47
    1       9       1       0.11    885     1998    15      0       0       0       0       1       13      0.00    0.00    0.00    0.09    99.74   0.59
    2       2       7       0.84    814     1999    196     0       0       0       0       10      164     0.00    0.00    0.00    0.25    98.96   2.76    0.20    96.20   47
    2       10      1       0.16    883     1999    17      0       0       0       0       1       18      0.00    0.00    0.00    0.08    99.76   3.44
    3       3       1       0.15    981     1999    21      0       0       0       0       1       23      0.00    0.00    0.00    0.03    99.78   0.47    0.06    99.32   47
    3       11      1       0.08    1097    1999    17      0       0       0       0       1       13      0.00    0.00    0.00    0.09    99.79   0.55
    4       4       2       0.24    831     1999    39      0       0       0       0       0       39      0.00    0.00    0.00    0.00    99.76   0.80    0.05    98.91   47
    4       12      1       0.10    864     2000    14      0       0       0       0       1       13      0.00    0.00    0.00    0.08    99.81   0.94
    5       5       1       0.09    945     2000    12      0       0       0       0       1       12      0.00    0.00    0.00    0.03    99.87   0.40    0.06    99.45   47
    5       13      1       0.09    976     2000    18      0       0       0       0       1       15      0.00    0.00    0.00    0.08    99.83   0.42
    6       6       2       0.24    810     2000    27      0       0       0       0       2       23      0.00    0.00    0.00    20.99   78.81   1.71    20.82   77.23   47
    6       14      3       0.37    819     2000    102     0       0       0       0       3       86      0.00    0.00    0.00    0.12    99.57   1.58
    7       7       1       0.12    805     2000    15      0       0       0       0       1       14      0.00    0.00    0.00    0.10    99.79   0.59    0.01    99.28   47
    7       15      3       0.31    820     2000    14      0       0       0       0       1       13      0.00    0.00    0.00    0.03    99.66   0.40

Intel(R) Xeon(R) CPU D-1540 @ 2.00GHzの場合

    n         CPU
    1 - 9     C1
    10 - 39   C1E
    40 - 132  C3
    133 -     C6
    
